[[manual-mode-example]]
= Manual mode


In this example, autoconnect mode is used, this is a convenient method where it is assumed that each server has an admin user with the same credentials as one of Hub's user.
Difference from relay mode is that there is no need to call `attachToServers` method which also means that there is no need to make a call to get the `serverIds`. This process will happen automatically
when user will login into hub using `loginWithAutoconnectMode` method. Selected servers will be the servers where Hub user will have access though.

Here in this example, following is happening

[square]
* User provide credentials for the hub to the `loginWithAutoconnectMode` method, a `sessionkey` for the hub is returned. 
* `multicast` call is being perfomed on the specific servers where `serverId` is used to indentify the specific sever. Behind the scenes, `system.list_system method` of each {productname} server's xmlrpc api method will be called to get the list of the clients registed with each {productname} server
* Hub will take care of collecting these results and return in form of a `map`. This map has two entries, entry with `Successfull`  key, has list of responses where call was successful while with `Failed` key  has the failed ones.

[NOTE]
====
If user wish to get information from only one {productname} server, then Hub also provided a convenient `unicast` namespace. In this case, result would not be returned as map rather exactly as the result are expectd as if user directly call that {productname} server's api.
====

* User logs out


[source,python]
----
#!/usr/bin/python
import xmlrpclib
import itertools

HUB_URL = "http://localhost:8888/hub/rpc/api"
HUB_LOGIN = "admin"
HUB_PASSWORD = "admin"

client = xmlrpclib.Server(HUB_URL, verbose=0)

hubKey = client.hub.loginWithAutoconnectMode(HUB_LOGIN, HUB_PASSWORD)

#Get the server Ids
serverIds = client.hub.listServerIds(hubKey)

# perform the needed operation
systemsPerServer = client.multicast.system.list_systems(hubKey, serverIds)
successfulResponses = systemsPerServer["Successfull"]["Responses"]
failedResponses = systemsPerServer["Failed"]["Responses"]

for system in itertools.chain.from_iterable(successfulResponses):
  print (system)

#logout
client.auth.logout(hubKey)
----
